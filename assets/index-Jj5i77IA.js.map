{"version":3,"file":"index-Jj5i77IA.js","sources":["../../src/logo.png","../../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__DacSPZ0B__\"","import './style.css'\r\nimport logoUrl from './logo.png'\r\n\r\n// Importar todos os JSONs de categorias\r\nimport analgesicosOpioides from './infos/json/Analgesicosopioides.json'\r\nimport antiHistaminico from './infos/json/anti-histaminico.json'\r\nimport antiInflamatorio from './infos/json/Anti-Inflamatorio.json'\r\nimport antiarritmicos from './infos/json/antiarritmicos.json'\r\nimport antibioticos from './infos/json/antibioticos.json'\r\nimport anticonvulsivantes from './infos/json/anticonvulsivantes.json'\r\nimport antiemeticos from './infos/json/antiemeticos.json'\r\nimport antifungicos from './infos/json/antifungicos.json'\r\nimport antiparasitarios from './infos/json/antiparasitarios_vermifugos.json'\r\nimport antiulcerosos from './infos/json/antiulcerosos.json'\r\nimport corticoesteroides from './infos/json/corticoesterioides.json'\r\nimport diureticos from './infos/json/diureticos.json'\r\nimport laxantesAntigases from './infos/json/laxantes_antigases.json'\r\nimport outros from './infos/json/outros.json'\r\nimport sistemaRespiratorio from './infos/json/sistema_respiratorio.json'\r\nimport vasodilatadores from './infos/json/vasodilatadores.json'\r\nimport vasopressores from './infos/json/vasopressores.json'\r\nimport vitaminas from './infos/json/vitaminas.json'\r\n\r\n// Mapeamento de categorias\r\nconst CATEGORIAS = {\r\n  'analgesicos-opioides': { nome: 'Analg√©sicos Opioides', dados: analgesicosOpioides },\r\n  'anti-histaminico': { nome: 'Anti-histam√≠nico', dados: antiHistaminico },\r\n  'anti-inflamatorio': { nome: 'Anti-inflamat√≥rio', dados: antiInflamatorio },\r\n  'antiarritmicos': { nome: 'Antiarr√≠tmicos', dados: antiarritmicos },\r\n  'antibioticos': { nome: 'Antibi√≥ticos', dados: antibioticos },\r\n  'anticonvulsivantes': { nome: 'Anticonvulsivantes', dados: anticonvulsivantes },\r\n  'antiemeticos': { nome: 'Antiem√©ticos', dados: antiemeticos },\r\n  'antifungicos': { nome: 'Antif√∫ngicos', dados: antifungicos },\r\n  'antiparasitarios': { nome: 'Antiparasit√°rios/Verm√≠fugos', dados: antiparasitarios },\r\n  'antiulcerosos': { nome: 'Antiulcerosos', dados: antiulcerosos },\r\n  'corticoesteroides': { nome: 'Corticoesteroides', dados: corticoesteroides },\r\n  'diureticos': { nome: 'Diur√©ticos', dados: diureticos },\r\n  'laxantes-antigases': { nome: 'Laxantes/Antigases', dados: laxantesAntigases },\r\n  'outros': { nome: 'Outros', dados: outros },\r\n  'sistema-respiratorio': { nome: 'Sistema Respirat√≥rio', dados: sistemaRespiratorio },\r\n  'vasodilatadores': { nome: 'Vasodilatadores', dados: vasodilatadores },\r\n  'vasopressores': { nome: 'Vasopressores', dados: vasopressores },\r\n  'vitaminas': { nome: 'Vitaminas', dados: vitaminas },\r\n}\r\n\r\nconst app = document.querySelector('#app')\r\n\r\napp.innerHTML = `\r\n  <div id=\"splash\" class=\"fixed inset-0 z-50 flex items-center justify-center bg-pink-50 backdrop-blur-sm transition-opacity duration-700\">\r\n    <picture>\r\n      <img src=\"${logoUrl}\" alt=\"Logo\" class=\"block mx-auto w-auto h-auto max-w-[90vw] max-h-[75vh] object-contain\" />\r\n    </picture>\r\n  </div>\r\n  <header class=\"py-10\">\r\n    <div class=\"mx-auto max-w-2xl px-4 text-center\">\r\n      <img src=\"${logoUrl}\" alt=\"VetDose\" class=\"mx-auto h-16 w-auto\" />\r\n      <p class=\"mt-2 text-gray-600\">Calculadora de dosagem veterin√°ria</p>\r\n    </div>\r\n  </header>\r\n\r\n  <main class=\"mx-auto max-w-2xl px-4 pb-14\">\r\n    <section class=\"rounded-xl bg-white/90 p-6 shadow-md ring-1 ring-black/5\">\r\n      <div id=\"panel\"></div>\r\n    </section>\r\n  </main>\r\n`\r\n\r\n// Splash: aparece por 2 segundos e depois faz fade-out\r\nconst splashEl = document.getElementById('splash')\r\nsetTimeout(() => {\r\n  splashEl.classList.add('opacity-0')\r\n  setTimeout(() => {\r\n    splashEl.remove()\r\n  }, 700) // Aguarda o fade-out completar antes de remover\r\n}, 2000) // 2 segundos na tela\r\n\r\n// Tabelas de dosagem por esp√©cie (mg/kg) e metadados\r\n// Quando existe faixa, usamos o ponto m√©dio para o c√°lculo e exibimos a faixa.\r\nconst DOSAGENS = {\r\n  amoxicilina: {\r\n    cachorro: { min: 10, max: 20, freq: 'a cada 12h', dur: '5‚Äì7 dias', obs: 'Uso oral comum.' },\r\n    gato:     { min: 10, max: 20, freq: 'a cada 12h', dur: '5‚Äì7 dias', obs: 'Uso oral comum.' },\r\n  },\r\n  doxiciclina: {\r\n    cachorro: { min: 5, max: 10, freq: 'a cada 12h', dur: '7‚Äì10 dias', obs: 'Pode causar fotossensibilidade.' },\r\n    gato:     { min: 5, max: 10, freq: 'a cada 12h', dur: '7‚Äì10 dias', obs: 'Administrar com √°gua.' },\r\n  },\r\n  enrofloxacina: {\r\n    cachorro: { min: 5, max: 10, freq: 'a cada 24h', dur: '5‚Äì10 dias', obs: 'Evitar em animais jovens.' },\r\n  },\r\n  dipirona: {\r\n    cachorro: { min: 25, max: 25, freq: 'a cada 8h', dur: 'conforme necessidade', obs: 'Uso conforme orienta√ß√£o.' },\r\n    gato:     { min: 12, max: 12, freq: 'a cada 8h', dur: 'conforme necessidade', obs: 'Uso conforme orienta√ß√£o.' },\r\n  },\r\n  ivermectina: {\r\n    cachorro: { min: 0.2, max: 0.4, freq: 'dose √∫nica', dur: '‚Äî', obs: 'Aten√ß√£o ra√ßas sens√≠veis (MDR1).'},\r\n    gato:     { min: 0.2, max: 0.2, freq: 'dose √∫nica', dur: '‚Äî', obs: 'Aten√ß√£o a rea√ß√µes adversas.' },\r\n  },\r\n  cefalexina: {\r\n    cachorro: { min: 15, max: 30, freq: 'a cada 12h', dur: '7‚Äì14 dias', obs: 'Uso oral.' },\r\n    gato:     { min: 15, max: 30, freq: 'a cada 12h', dur: '7‚Äì14 dias', obs: 'Uso oral.' },\r\n  },\r\n  meloxicam: {\r\n    cachorro: { min: 0.2, max: 0.2, freq: '0,2 mg/kg inicial, 0,1 mg/kg manuten√ß√£o 1x/dia', dur: 'conforme orienta√ß√£o', obs: 'Anti-inflamat√≥rio n√£o esteroidal.' },\r\n  },\r\n  prednisona: {\r\n    cachorro: { min: 0.5, max: 2.0, freq: 'a cada 24h', dur: 'conforme indica√ß√£o', obs: 'Ajuste conforme quadro cl√≠nico.' },\r\n  },\r\n  furosemida: {\r\n    cachorro: { min: 2, max: 6, freq: 'a cada 8‚Äì12h', dur: 'conforme resposta', obs: 'Diur√©tico ‚Äî monitorar hidrata√ß√£o.' },\r\n  },\r\n}\r\n\r\nconst limitesPesoKg = { min: 0.1, max: 500 }\r\n\r\nconst ESPECIES = [\r\n  { value: 'cachorro', label: 'üê∂ Cachorro' },\r\n  { value: 'gato',     label: 'üê± Gato' },\r\n  { value: 'coelho',   label: 'üê∞ Coelho' },\r\n  { value: 'cavalo',   label: 'üê¥ Cavalo' },\r\n  { value: 'ave',      label: 'üïäÔ∏è Ave' },\r\n  { value: 'boi',      label: 'üêÆ Boi' },\r\n  { value: 'porco',    label: 'üê∑ Porco' },\r\n]\r\n\r\n// Utilit√°rios globais\r\nfunction round2(n) {\r\n  return Math.round((n + Number.EPSILON) * 100) / 100\r\n}\r\n\r\nfunction formatNumber(n) {\r\n  return n.toLocaleString('pt-BR', { maximumFractionDigits: 2, minimumFractionDigits: 0 })\r\n}\r\n\r\nfunction getRegra(medicamento, especie) {\r\n  const mapa = DOSAGENS[medicamento]\r\n  if (!mapa) return null\r\n  return mapa[especie] || mapa['cachorro'] || mapa['gato'] || null\r\n}\r\n\r\n// Fun√ß√£o para parsear dose dos JSONs (ex: \"C√£es e Gatos - 11 a 22mg/kg\" ou \"C√£es - 5 a 10mg/kg\")\r\nfunction parseDoseFromJSON(doseStr, especie) {\r\n  if (!doseStr) return null\r\n  \r\n  const especieMap = { 'cachorro': ['C√£es', 'C√£o'], 'gato': ['Gatos', 'Gato'] }\r\n  const especieTerms = especieMap[especie] || []\r\n  \r\n  // Procurar por padr√µes como \"11 a 22mg/kg\" ou \"5mg/kg\"\r\n  const regex = /(\\d+(?:[.,]\\d+)?)\\s*(?:a|at√©|-)\\s*(\\d+(?:[.,]\\d+)?)\\s*mg\\/kg/i\r\n  const match = doseStr.match(regex)\r\n  \r\n  if (match) {\r\n    const min = parseFloat(match[1].replace(',', '.'))\r\n    const max = parseFloat(match[2].replace(',', '.'))\r\n    return { min, max }\r\n  }\r\n  \r\n  // Tentar dose √∫nica (ex: \"5mg/kg\")\r\n  const singleRegex = /(\\d+(?:[.,]\\d+)?)\\s*mg\\/kg/i\r\n  const singleMatch = doseStr.match(singleRegex)\r\n  if (singleMatch) {\r\n    const val = parseFloat(singleMatch[1].replace(',', '.'))\r\n    return { min: val, max: val }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\nfunction renderForm(initial = {}) {\r\n  const panel = document.getElementById('panel')\r\n  const especie = initial.especie || 'cachorro'\r\n  const pesoStr = initial.pesoStr || ''\r\n  const categoria = initial.categoria || ''\r\n  const med = initial.med || ''\r\n  const concStr = initial.concStr || ''\r\n  const sensivel = Boolean(initial.sensivel)\r\n\r\n  // Gerar op√ß√µes de categorias\r\n  const categoriasOptions = Object.entries(CATEGORIAS).map(([key, cat]) => \r\n    `<option value=\"${key}\" ${categoria===key?'selected':''}>${cat.nome}</option>`\r\n  ).join('')\r\n\r\n  panel.innerHTML = `\r\n      <h2 class=\"text-lg font-semibold text-gray-900\">Calcular dosagem</h2>\r\n      <p class=\"mt-1 text-sm text-gray-600\">Selecione a categoria, esp√©cie, informe o peso, o medicamento e, opcionalmente, a concentra√ß√£o.</p>\r\n\r\n      <form id=\"dose-form\" class=\"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n        <div class=\"sm:col-span-2\">\r\n          <label for=\"animal\" class=\"block text-sm font-medium text-gray-700\">Esp√©cie</label>\r\n          <select id=\"animal\" class=\"mt-1 w-full rounded-md border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-500/20\">\r\n            ${ESPECIES.map(s => `<option value=\"${s.value}\" ${s.value===especie?'selected':''}>${s.label}</option>`).join('')}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"categoria\" class=\"block text-sm font-medium text-gray-700\">Categoria</label>\r\n          <select id=\"categoria\" class=\"mt-1 w-full rounded-md border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-500/20\">\r\n            <option value=\"\">Selecione uma categoria</option>\r\n            ${categoriasOptions}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"medicamento\" class=\"block text-sm font-medium text-gray-700\">Medicamento</label>\r\n          <select id=\"medicamento\" class=\"mt-1 w-full rounded-md border-gray-300 bg-white px-3 py-2 text-gray-900 shadow-sm focus:border-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-500/20\" ${!categoria ? 'disabled' : ''}>\r\n            <option value=\"\">Selecione uma categoria</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"peso\" class=\"block text-sm font-medium text-gray-700\">Peso</label>\r\n          <div class=\"relative mt-1\">\r\n            <span class=\"pointer-events-none absolute inset-y-0 left-3 flex items-center text-gray-500\">kg</span>\r\n            <input id=\"peso\" inputmode=\"numeric\" autocomplete=\"off\" placeholder=\"0,00\" value=\"${pesoStr}\"\r\n              class=\"w-full rounded-md border-gray-300 pl-10 pr-3 py-2 text-gray-900 shadow-sm focus:border-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-500/20\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"concentracao\" class=\"block text-sm font-medium text-gray-700\">Concentra√ß√£o (mg/mL)</label>\r\n          <input id=\"concentracao\" inputmode=\"decimal\" placeholder=\"Ex.: 250\" value=\"${concStr}\" class=\"mt-1 w-full rounded-md border-gray-300 px-3 py-2 text-gray-900 shadow-sm focus:border-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-500/20\" />\r\n        </div>\r\n\r\n        <div class=\"flex items-center gap-2 sm:col-span-2\">\r\n          <input id=\"racaSensivel\" type=\"checkbox\" ${sensivel?'checked':''} class=\"h-4 w-4 rounded border-gray-300 text-pink-600 focus:ring-pink-600\" />\r\n          <label for=\"racaSensivel\" class=\"text-sm text-gray-700\">Ra√ßa sens√≠vel (Collie/Sheltie) ‚Äî alerta para Ivermectina</label>\r\n        </div>\r\n\r\n        <div class=\"sm:col-span-2 mt-2\">\r\n          <button type=\"submit\" class=\"inline-flex w-full items-center justify-center rounded-md bg-pink-500 px-4 py-2 text-white font-medium shadow-sm transition hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-500/30\">Calcular dose</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div id=\"alert\" class=\"mt-4 hidden rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700\"></div>\r\n  `\r\n\r\n  const form = document.getElementById('dose-form')\r\n  const categoriaSelect = document.getElementById('categoria')\r\n  const especieSelect = document.getElementById('animal')\r\n  const pesoInput = document.getElementById('peso')\r\n  const medicamentoSelect = document.getElementById('medicamento')\r\n  const concentracaoInput = document.getElementById('concentracao')\r\n  const racaSensivel = document.getElementById('racaSensivel')\r\n  const alertBox = document.getElementById('alert')\r\n\r\n  // Fun√ß√£o para extrair concentra√ß√£o do JSON (ex: \"500mg/mL\" ou \"Comprimidos 50mg\")\r\n  function extrairConcentracao(concStr) {\r\n    if (!concStr) return null\r\n    // Procurar por padr√µes como \"500mg/mL\", \"50mg/mL\", \"250 mg/5 mL\"\r\n    const regex = /(\\d+(?:[.,]\\d+)?)\\s*mg\\s*\\/\\s*(\\d+(?:[.,]\\d+)?)?\\s*mL/i\r\n    const match = concStr.match(regex)\r\n    if (match) {\r\n      const mg = parseFloat(match[1].replace(',', '.'))\r\n      const ml = match[2] ? parseFloat(match[2].replace(',', '.')) : 1\r\n      return round2(mg / ml) // Retorna mg/mL\r\n    }\r\n    // Procurar por comprimidos (ex: \"Comprimidos 50mg\")\r\n    const compRegex = /(?:comp|comprimido|cp)[\\s:]*(\\d+(?:[.,]\\d+)?)\\s*mg/i\r\n    const compMatch = concStr.match(compRegex)\r\n    if (compMatch) {\r\n      return parseFloat(compMatch[1].replace(',', '.'))\r\n    }\r\n    return null\r\n  }\r\n\r\n  // Fun√ß√£o para atualizar medicamentos baseado na categoria\r\n  function atualizarMedicamentos() {\r\n    const categoriaKey = categoriaSelect.value\r\n    medicamentoSelect.innerHTML = '<option value=\"\">Selecione uma categoria</option>'\r\n    medicamentoSelect.disabled = !categoriaKey\r\n    concentracaoInput.value = ''\r\n\r\n    if (categoriaKey && CATEGORIAS[categoriaKey]) {\r\n      const medicamentos = CATEGORIAS[categoriaKey].dados\r\n      medicamentos.forEach((med, idx) => {\r\n        const nome = med.Medicamento || med.medicamento || `Medicamento ${idx + 1}`\r\n        const value = nome.toLowerCase().replace(/[^a-z0-9]+/g, '-')\r\n        medicamentoSelect.innerHTML += `<option value=\"${value}\" data-med-data='${JSON.stringify(med)}'>${nome}</option>`\r\n      })\r\n    }\r\n  }\r\n\r\n  // Quando medicamento for selecionado, preencher concentra√ß√£o automaticamente\r\n  medicamentoSelect.addEventListener('change', () => {\r\n    const medOption = medicamentoSelect.options[medicamentoSelect.selectedIndex]\r\n    if (medOption?.dataset?.medData) {\r\n      const medData = JSON.parse(medOption.dataset.medData)\r\n      if (medData.Concentracao_mg_mL) {\r\n        const conc = extrairConcentracao(medData.Concentracao_mg_mL)\r\n        if (conc) {\r\n          concentracaoInput.value = formatNumber(conc)\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  // Se j√° tinha categoria selecionada, atualizar medicamentos\r\n  if (categoria) {\r\n    atualizarMedicamentos()\r\n    if (med) {\r\n      medicamentoSelect.value = med\r\n    }\r\n  }\r\n\r\n  categoriaSelect.addEventListener('change', atualizarMedicamentos)\r\n\r\n  function maskDecimal(el) {\r\n    el.addEventListener('input', () => {\r\n      let s = el.value\r\n      s = s.replace(/[^\\d,\\.]/g, '')\r\n      s = s.replace(/\\./g, '')\r\n      if (s.indexOf(',') !== -1) {\r\n        const [int, dec] = s.split(',')\r\n        const intFmt = int.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n        el.value = dec !== undefined ? `${intFmt},${dec.replace(/[^\\d]/g,'').slice(0,2)}` : intFmt\r\n      } else {\r\n        const intFmt = s.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n        el.value = intFmt\r\n      }\r\n    })\r\n  }\r\n\r\n  // M√°scara de 2 casas decimais autom√°tica (ex.: 1250 -> 12,50)\r\n  function maskTwoDecimals(el) {\r\n    const format = (digits) => {\r\n      if (!digits) return ''\r\n      // remove zeros √† esquerda\r\n      digits = digits.replace(/^0+(\\d)/, '$1')\r\n      if (digits.length === 1) digits = '0' + digits\r\n      const intPart = digits.slice(0, -2) || '0'\r\n      const decPart = digits.slice(-2)\r\n      const intFmt = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n      return `${intFmt},${decPart}`\r\n    }\r\n    const handler = () => {\r\n      let s = el.value.replace(/\\D/g, '')\r\n      el.value = format(s)\r\n    }\r\n    el.addEventListener('input', handler)\r\n    el.addEventListener('focus', handler)\r\n  }\r\n\r\n  maskTwoDecimals(pesoInput)\r\n  maskDecimal(concentracaoInput)\r\n\r\n  function parsePtBrNumber(str) {\r\n    if (!str) return NaN\r\n    return Number(str.replace(/\\./g,'').replace(',', '.'))\r\n  }\r\n\r\n  function showAlert(message) {\r\n    alertBox.textContent = message\r\n    alertBox.classList.remove('hidden')\r\n  }\r\n\r\n  form.addEventListener('submit', (e) => {\r\n    e.preventDefault()\r\n    const categoriaKey = categoriaSelect.value\r\n    const especie = especieSelect.value\r\n    const peso = parsePtBrNumber(pesoInput.value)\r\n    const medOption = medicamentoSelect.options[medicamentoSelect.selectedIndex]\r\n    const medData = medOption?.dataset?.medData ? JSON.parse(medOption.dataset.medData) : null\r\n    const med = medicamentoSelect.value\r\n    const conc = parsePtBrNumber(concentracaoInput.value)\r\n    const sens = racaSensivel.checked\r\n    calcular({ \r\n      categoria: categoriaKey,\r\n      especie, \r\n      peso, \r\n      med, \r\n      medData,\r\n      conc, \r\n      sens, \r\n      raw: {pesoStr:pesoInput.value, concStr:concentracaoInput.value, categoria: categoriaKey} \r\n    })\r\n  })\r\n}\r\n\r\nfunction renderResultado(view) {\r\n  const panel = document.getElementById('panel')\r\n  const especieLabel = ESPECIES.find(e => e.value === view.especie)?.label || view.especie\r\n  \r\n  panel.innerHTML = `\r\n    <button id=\\\"voltar\\\" class=\\\"-ml-2 inline-flex items-center gap-2 rounded-md px-2 py-1 text-sm text-gray-700 hover:text-gray-900\\\"><span>‚Üê</span><span>Voltar</span></button>\r\n    <div class=\\\"mt-3 rounded-xl bg-white p-6 shadow-md ring-1 ring-black/5\\\">\r\n      <div class=\\\"text-base font-semibold\\\">Plano de cuidado</div>\r\n      <div class=\\\"mt-2 text-sm text-gray-700\\\">\r\n        <span class=\\\"font-medium\\\">${especieLabel}</span> ‚Ä¢ <span class=\\\"font-medium\\\">${view.med}</span>\r\n      </div>\r\n\r\n      <div class=\\\"mt-4 flex items-baseline gap-3\\\">\r\n        <span class=\\\"text-sm text-gray-600\\\">Dose</span>\r\n        <span class=\\\"text-2xl font-bold text-green-600\\\">${view.doseMg} mg</span>\r\n      </div>\r\n\r\n      <div class=\\\"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2\\\">\r\n        <div class=\\\"rounded-lg bg-blue-50 px-3 py-2 border border-blue-100\\\">\r\n          <div class=\\\"text-xs text-blue-600 font-medium\\\">Volume a aplicar</div>\r\n          <div class=\\\"text-lg font-bold text-blue-700\\\">${view.volumeMl} mL</div>\r\n        </div>\r\n        ${view.comprimidos ? `\r\n        <div class=\\\"rounded-lg bg-purple-50 px-3 py-2 border border-purple-100\\\">\r\n          <div class=\\\"text-xs text-purple-600 font-medium\\\">Comprimidos</div>\r\n          <div class=\\\"text-lg font-bold text-purple-700\\\">${view.comprimidos} comprimido(s) de ${view.concentracao} mg</div>\r\n        </div>\r\n        ` : ''}\r\n      </div>\r\n\r\n      <div class=\\\"mt-4 grid grid-cols-1 gap-2 sm:grid-cols-2\\\">\r\n        <div class=\\\"rounded-lg bg-gray-50 px-3 py-2\\\">\r\n          <div class=\\\"text-xs text-gray-500\\\">Concentra√ß√£o</div>\r\n          <div class=\\\"font-medium\\\">${view.concentracao} mg/mL</div>\r\n        </div>\r\n        ${view.via ? `\r\n        <div class=\\\"rounded-lg bg-gray-50 px-3 py-2\\\">\r\n          <div class=\\\"text-xs text-gray-500\\\">Via de administra√ß√£o</div>\r\n          <div class=\\\"font-medium\\\">${view.via}</div>\r\n        </div>\r\n        ` : ''}\r\n        <div class=\\\"rounded-lg bg-gray-50 px-3 py-2\\\">\r\n          <div class=\\\"text-xs text-gray-500\\\">Frequ√™ncia</div>\r\n          <div class=\\\"font-medium\\\">${view.freq}</div>\r\n        </div>\r\n        <div class=\\\"rounded-lg bg-gray-50 px-3 py-2\\\">\r\n          <div class=\\\"text-xs text-gray-500\\\">Dura√ß√£o</div>\r\n          <div class=\\\"font-medium\\\">${view.dur}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\\\"mt-4 border-t pt-4 space-y-2\\\">\r\n        <div class=\\\"text-sm text-gray-700\\\"><span class=\\\"font-medium\\\">Dosagem de refer√™ncia:</span> ${view.faixaStr}</div>\r\n        ${view.obs ? `<div class=\\\"text-sm text-gray-700\\\"><span class=\\\"font-medium\\\">Observa√ß√£o:</span> ${view.obs}</div>` : ''}\r\n        ${view.medData?.Concentracao_mg_mL ? `<div class=\\\"text-xs text-gray-500\\\">Concentra√ß√µes dispon√≠veis: ${view.medData.Concentracao_mg_mL}</div>` : ''}\r\n      </div>\r\n      ${view.alerta ? `<div class=\\\"mt-3 rounded border border-amber-200 bg-amber-50 px-3 py-2 text-amber-800\\\">${view.alerta}</div>` : ''}\r\n    </div>\r\n  `\r\n  document.getElementById('voltar').addEventListener('click', () => {\r\n    renderForm(view.formState)\r\n    // Restaurar categoria e medicamentos\r\n    if (view.formState.categoria) {\r\n      const categoriaSelect = document.getElementById('categoria')\r\n      categoriaSelect.value = view.formState.categoria\r\n      categoriaSelect.dispatchEvent(new Event('change'))\r\n      setTimeout(() => {\r\n        const medicamentoSelect = document.getElementById('medicamento')\r\n        if (view.formState.med) {\r\n          medicamentoSelect.value = view.formState.med\r\n        }\r\n      }, 100)\r\n    }\r\n  })\r\n}\r\n\r\nfunction calcular({ categoria, especie, peso, med, medData, conc, sens, raw }) {\r\n  const panel = document.getElementById('panel')\r\n  const alertMsg = (msg) => {\r\n    panel.insertAdjacentHTML('beforeend', `<div class=\\\"mt-4 rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700\\\">${msg}</div>`)\r\n  }\r\n\r\n  if (!Number.isFinite(peso)) return alertMsg('Informe um peso v√°lido (n√∫mero).')\r\n  if (peso <= 0) return alertMsg('Peso deve ser maior que zero.')\r\n  if (peso < limitesPesoKg.min) return alertMsg(`Peso muito baixo. M√≠nimo: ${limitesPesoKg.min} kg.`)\r\n  if (peso > limitesPesoKg.max) return alertMsg(`Peso muito alto. M√°ximo: ${limitesPesoKg.max} kg.`)\r\n  if (!categoria) return alertMsg('Selecione uma categoria de medicamento.')\r\n  if (!med) return alertMsg('Selecione um medicamento.')\r\n  if (!raw.concStr || !Number.isFinite(conc) || conc <= 0) return alertMsg('Concentra√ß√£o √© obrigat√≥ria. Informe um valor em mg/mL maior que 0.')\r\n\r\n  let regra = null\r\n  let medNome = med\r\n\r\n  // Tentar usar dados do JSON primeiro\r\n  if (medData && medData.Dose_mg_kg) {\r\n    const doseParsed = parseDoseFromJSON(medData.Dose_mg_kg, especie)\r\n    if (doseParsed) {\r\n      medNome = medData.Medicamento || med\r\n      regra = {\r\n        min: doseParsed.min,\r\n        max: doseParsed.max,\r\n        freq: medData.Frequencia || 'Conforme prescri√ß√£o',\r\n        dur: 'Conforme prescri√ß√£o',\r\n        obs: medData.Observacoes || medData.Via || ''\r\n      }\r\n    }\r\n  }\r\n\r\n  // Se n√£o encontrou nos JSONs, tentar no DOSAGENS antigo\r\n  if (!regra) {\r\n    regra = getRegra(med, especie)\r\n    if (!regra) return alertMsg('N√£o h√° protocolo cadastrado para esta combina√ß√£o de medicamento e esp√©cie.')\r\n  }\r\n\r\n  const mgKg = regra.min === regra.max ? regra.min : (regra.min + regra.max) / 2\r\n  const doseMgNum = round2(peso * mgKg)\r\n  const volumeMlNum = round2(doseMgNum / conc)\r\n  \r\n  // Calcular comprimidos se a concentra√ß√£o for de comprimido (assumindo que se for > 100, provavelmente √© comprimido)\r\n  const comprimidos = conc >= 50 ? round2(doseMgNum / conc) : null\r\n  const isComprimido = conc >= 50 && conc <= 1000\r\n\r\n  const faixaStr = regra.min === regra.max ? `${regra.min} mg/kg` : `${regra.min}‚Äì${regra.max} mg/kg (usado ${round2(mgKg)} mg/kg)`\r\n  const alerta = (med.includes('ivermectina') && especie === 'cachorro' && sens)\r\n    ? 'Aten√ß√£o: Ivermectina pode ser contraindicada em ra√ßas sens√≠veis (MDR1).'\r\n    : ''\r\n\r\n  renderResultado({\r\n    especie,\r\n    med: medNome,\r\n    doseMg: formatNumber(doseMgNum),\r\n    volumeMl: formatNumber(volumeMlNum),\r\n    concentracao: formatNumber(conc),\r\n    comprimidos: isComprimido ? formatNumber(comprimidos) : null,\r\n    via: medData?.Via || '',\r\n    freq: regra.freq,\r\n    dur: regra.dur,\r\n    faixaStr,\r\n    obs: regra.obs,\r\n    alerta,\r\n    medData: medData || null,\r\n    formState: { especie, pesoStr: raw.pesoStr, categoria: raw.categoria, med, concStr: raw.concStr, sensivel: sens },\r\n  })\r\n}\r\n\r\n// Inicializa view\r\nrenderForm()\r\n\r\n\r\n"],"names":["logoUrl","CATEGORIAS","analgesicosOpioides","antiHistaminico","antiInflamatorio","antiarritmicos","antibioticos","anticonvulsivantes","antiemeticos","antifungicos","antiparasitarios","antiulcerosos","corticoesteroides","diureticos","laxantesAntigases","outros","sistemaRespiratorio","vasodilatadores","vasopressores","vitaminas","app","splashEl","DOSAGENS","limitesPesoKg","ESPECIES","round2","n","formatNumber","getRegra","medicamento","especie","mapa","parseDoseFromJSON","doseStr","regex","match","min","max","singleRegex","singleMatch","val","renderForm","initial","panel","pesoStr","categoria","med","concStr","sensivel","categoriasOptions","key","cat","s","form","categoriaSelect","especieSelect","pesoInput","medicamentoSelect","concentracaoInput","racaSensivel","extrairConcentracao","mg","ml","compRegex","compMatch","atualizarMedicamentos","categoriaKey","idx","nome","value","medOption","medData","conc","maskDecimal","el","int","dec","intFmt","maskTwoDecimals","format","digits","intPart","decPart","handler","parsePtBrNumber","str","e","peso","sens","calcular","renderResultado","view","especieLabel","raw","alertMsg","msg","regra","medNome","doseParsed","mgKg","doseMgNum","volumeMlNum","comprimidos","isComprimido","faixaStr","alerta"],"mappings":"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"}